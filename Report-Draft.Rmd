---
title: "Hacklab Developer Census 2020"
output: 
  distill::distill_article:
    toc: true     # adding table of contents
    toc_depth: 1
    toc_float: true
    toc_collapsed: true
    theme: theme.css
---




```{r setup, include = FALSE}

knitr::opts_chunk$set(echo = FALSE) # we do not want to display the code

# Environment:

library(xaringanExtra) # to be able to have tabs. To install: install 'devtools' package, then run: devtools::install_github("gadenbuie/xaringanExtra")
xaringanExtra::use_panelset() # allow the creation of tabs in Distill (see https://github.com/rstudio/distill/issues/11)

library(tidyverse) # includes dplyr, tidyr, ggplot2, rio, stringr, ...

library(leaflet) # for the interactive map
library(tmaptools) # for geocoding

library(wordcloud) # for the wordcloud at Q33


```

```{r}

# Data:

Qs <- rio::import("data/clean/clean_all_Qs.rds") %>%
  # reodering certain factors for the plots: (use barplot_ordered() for plotting)
  mutate(
    purch_influence_16 = fct_relevel(purch_influence_16,
                                     "I have little or no influence",
                                     "I have some influence",
                                     "I have a great deal of influence"
                                     )
  )

skills <- rio::import("data/clean/skills_final.csv") %>% 
  select(-V1) %>%  # artifact due to a save as .csv to remove (at least on a Mac?)
  mutate_all(na_if,"") # the column 'level' contains blanks ("") instead of NAs -> transform them to NAs.
# we add characteristics of the respondents to the skills, 
# so that we can differentiate their popularity by occupation or gender:
skills_with_characteristics <- skills %>% left_join(select(Qs, ID, profession_1, gender_35), by = c("id" = "ID"))
 
number_of_respondents = dim(Qs)[1] # number of respondents (272) used to compute percentages.
number_of_prof_dev = dim(Qs %>% filter(profession_1 == "I am a developer by profession"))[1]
number_of_students = dim(Qs %>% filter(profession_1 == "I am a student who is learning to code"))[1]


```

```{r}

# Themes and Functions:

HL_colors = c("#610b70","#88b101","#eb1c96","#e98403","#454545")
HL_font = "sans" # !!! Should change and use Gotham !!!
main_fontsize = 7 

barplot_theme <- function(){
  # the definition of a custom ggplot theme for our barplots.
  theme_minimal() + 
    theme(
      plot.title = element_text(family = HL_font, size = main_fontsize + 2, color = "black"),
      # plot.subtitle = element_text(family = HL_font, size = main_fontsize),
      axis.title = element_text(family = HL_font, size = main_fontsize, color = "black"),
      axis.text = element_text(family = HL_font, size = main_fontsize, color = "black"),
      # plot.caption = element_text(hjust = 0, family = my_font, 
      #                             size = main_fontsize, face= "italic"), #Default is hjust=1 / 0
      plot.title.position = "plot",  # left-align title
      # plot.caption.position =  "plot", 
      panel.grid.minor.x = element_blank(),  # remove useless minor grid
      panel.grid.major.y = element_blank(),  # remove useless major grid in bar charts
      panel.grid.major.x = element_blank(),  # remove useless major grid in bar charts
      axis.title.x = element_blank(), # we do not want an y axis for the barplot, we have labels already
      axis.text.x = element_blank(),
      axis.ticks.x = element_blank()
      # plot.margin = margin(0.1, 0.1, 0.1, 0.1, unit = "cm")
    )
}

basic_barplot <- function(my_df, a_factor, its_values, labels, title){
  # a function to plot a standard barplot
  # uses the barplot_theme defined above
  # needs an (ordered) factor as input, and its values
  # returns a ggplot
  current_plot <- ggplot(data = my_df, 
                         aes(x = fct_reorder({{a_factor}}, {{its_values}}), 
                             y = {{its_values}})) + 
    geom_col(fill = HL_colors[1]) + 
    geom_text(
      aes(label = {{labels}}, y = {{its_values}} + (0.06*max({{its_values}}))),
      size = 2
    ) +
    scale_y_continuous(labels = scales::percent) +
    barplot_theme() + 
    coord_flip() +
    labs(title = stringr::str_wrap(title,100)) + # automated text wrap in title
    xlab("") +
    ylab("")
  return(current_plot)
}

#Function for barplot that does not override order
barplot_ordered <- function(my_df, a_factor, its_values, labels, title){
  # a function to plot a standard barplot
  # uses the barplot_theme defined above
  # needs an (ordered) factor as input, and its values
  # returns a ggplot
  current_plot <- ggplot(data = my_df, 
                         aes(x = {{a_factor}},
                             y = {{its_values}})) + 
    geom_col(fill = HL_colors[1]) + 
    geom_text(
      aes(label = {{labels}}, y = {{its_values}} + (0.06*max({{its_values}}))),
      size = 2
    ) +
    scale_y_continuous(labels = scales::percent) +
    barplot_theme() + 
    coord_flip() +
    labs(title = stringr::str_wrap(title,100)) + # automated text wrap in title
    xlab("") +
    ylab("")
  return(current_plot)
}

compute_perc <- function(my_df, a_factor){
  # a small function to count a factor and compute the percentages
  # also return the percentages as char for labelling.
  # USE THIS FUNCTION IF THE SUM OF THE ANSWERS IS 272! (including NAs) -> not working if several possible choices.
  my_df %>%
    count({{a_factor}}) %>%
    drop_na() %>% # always in percentage of the respondents to the question.
    mutate(
      perc = n/sum(n),
      perc_label = paste0(as.character(round(perc*100,1)), "%")
    ) %>% return()
  
}

compute_perc_popular_skills <- function(the_skills, skillset, number_of_resp){
  # USE THIS FUNCTION for the popular skills (last year + both)
  # NOTE: we use all respondents, not only those who responded. -> some respondents did not enter any skills. -> not optimal, but annoying to correct?
  the_skills %>%
    filter(tool %in% skillset) %>% # select only the languages from all the tools
    filter(level == "Worked with in PAST year" | level == "Both") %>%
    count(tool) %>%
    mutate(
      perc = n/number_of_resp, 
      perc_label = paste0(as.character(round(perc*100,1)), "%")
    ) %>% 
    arrange(-perc) %>%  
    return()
}


```


# Basic Information

## What describes you best?

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, profession_1), 
              a_factor = profession_1, its_values = perc, labels = perc_label, 
              title = "")
```

## Do you code as a hobby? 

::::: {.panelset}

::: {.panel}

### All Respondents {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, hobby_coding_2), 
              a_factor = hobby_coding_2, its_values = perc, labels = perc_label,
              title = "")

```


:::

::: {.panel}

### Professional Developers {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a developer by profession"), hobby_coding_2), 
              a_factor = hobby_coding_2, its_values = perc, labels = perc_label,
              title = "")

```

:::

::: {.panel}

### Students {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a student who is learning to code"), hobby_coding_2), 
              a_factor = hobby_coding_2, its_values = perc, labels = perc_label,
              title = "")

```

:::

::::

## Employment

```{r}

employment_data <- Qs %>%
  filter(employment_3 != "I prefer not to say") %>%
  mutate(
    employment_3 = factor(employment_3, 
                          levels(employment_3)[c(4,2,3,6,5,1)])
  )
```


::::: {.panelset}

::: {.panel}

### All Respondents {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(employment_data, employment_3), 
              a_factor = employment_3, its_values = perc, labels = perc_label,
              title = "")

```


:::

::: {.panel}

### Men only {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

barplot_ordered(my_df = compute_perc(employment_data %>% filter(gender_35 == "Man"), employment_3), 
              a_factor = employment_3, its_values = perc, labels = perc_label,
              title = "")

```

:::

::: {.panel}

### Women only {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

barplot_ordered(my_df = compute_perc(employment_data %>% filter(gender_35 == "Woman"), employment_3), 
              a_factor = employment_3, its_values = perc, labels = perc_label,
              title = "")

```

:::

::::



## Where do the developers come from? 

Zoom in to get a more detailed picture. 

Hover over the individual markers to see the professional status of the respondents. 

```{r, fig.align= 'center', out.width= '100%', fig.height=6.5}

# the geocoding was done separately in data_cleaning/Geocoding.R
# (to not lose time everytime we knitr)
# we load the result:
data_city_geo <- rio::import("data/clean/data_city_geo.rds") 

#Map for the cities
violet_icon <- makeIcon(
  iconUrl = "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-violet.png", 
  iconWidth = 24,
  iconHeight = 32) 

leaflet(data = data_city_geo) %>%
  addTiles() %>% 
  addMarkers(~ geocode$lon, ~ geocode$lat, 
             clusterOptions = markerClusterOptions(), 
             icon = violet_icon, label = ~profession_1)
```

## How old are the respondents? 
```{r}
Qs$age_range_6 <- factor(Qs$age_range_6, levels(Qs$age_range_6)[c(6:1)])

```

::::: {.panelset}

::: {.panel}

### All Respondents {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

barplot_ordered(my_df = compute_perc(Qs, age_range_6), 
              a_factor = age_range_6, its_values = perc, labels = perc_label, 
              title = "")

```


:::

::: {.panel}

### Professional Developers {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}


barplot_ordered(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a developer by profession"), age_range_6), 
              a_factor = age_range_6, its_values = perc, labels = perc_label,
              title = "")

```

:::

::: {.panel}

### Students {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

barplot_ordered(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a student who is learning to code"), age_range_6), 
              a_factor = age_range_6, its_values = perc, labels = perc_label,
              title = "")

```

:::

::::







# Technology and Tech Culture

## How frequently do you learn a new language or framework?

::::: {.panelset}

::: {.panel}

### All Respondents {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

barplot_ordered(my_df = compute_perc(Qs, new_tool_7), 
              a_factor = new_tool_7, its_values = perc, labels = perc_label, 
              title = "") + scale_x_discrete(limits=rev)

```


:::

::: {.panel}

### Professional Developers {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

barplot_ordered(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a developer by profession"), new_tool_7), 
              a_factor = new_tool_7, its_values = perc, labels = perc_label, 
              title = "") + scale_x_discrete(limits=rev)

```

:::

::: {.panel}

### Students {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

barplot_ordered(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a student who is learning to code"), new_tool_7), 
              a_factor = new_tool_7, its_values = perc, labels = perc_label, 
              title = "") + scale_x_discrete(limits=rev)

```

:::

:::::



## Which programming, scripting and markup languages have you done extensive development work in over the past year?

_HTML/CSS_ is the most used language, followed by _JavaScript_, _Python_ and _SQL_. Professional developers are more likely to use _JavaScript_ and _SQL_. _C++_ and _C_ are still widely useds to teach coding to students.  

```{r}

languages = c(
  "C",			
  "C#",			
  "C++",		
  "HTML/CSS",			
  "Java",			
  "JavaScript",			
  'Kotlin',			
  "PHP",			
  "Python",			
  "Ruby",			
  "SQL",			
  "Swift",			
  "TypeScript"
)


```
::::: {.panelset}
::: {.panel}
### All Respondents {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics, 
                                                  skillset = languages,
                                                  number_of_resp = number_of_respondents), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Professional Developers {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics %>% 
                                                    filter(profession_1 == "I am a developer by profession"), 
                                                  skillset = languages,
                                                  number_of_resp = number_of_prof_dev), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Students {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics %>% 
                                                    filter(profession_1 == "I am a student who is learning to code"), 
                                                  skillset = languages,
                                                  number_of_resp = number_of_students), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
:::::


## Which platforms have you done extensive development work in over the past year?

TBD...

```{r}

platforms = c(
"Android",			
"Arduino",			
"AWS",			
"Docker",		
"Google Cloud Platform",			
"Heroku",			
"IBM Cloud or Watson",			
"iOS",			
"Linux",			
"MacOS",		
"Microsoft Azure",		
"Raspberry Pi", 	
"Windows",			
"WordPress"
)

```
::::: {.panelset}
::: {.panel}
### All Respondents {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics, 
                                                  skillset = platforms,
                                                  number_of_resp = number_of_respondents), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Professional Developers {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics %>% 
                                                    filter(profession_1 == "I am a developer by profession"), 
                                                  skillset = platforms,
                                                  number_of_resp = number_of_prof_dev), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Students {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics %>% 
                                                    filter(profession_1 == "I am a student who is learning to code"), 
                                                  skillset = platforms,
                                                  number_of_resp = number_of_students), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
:::::


## Which web frameworks have you done extensive development work in over the past year?

_React.js_ is the most popular web framework.  BUT see next question...

```{r}

web_frameworks = c(
"Angular",			
"ASP.NET",		
"Django",			
"Express",		
"jQuery",			
"Laravel",
"React.js",
"Ruby on Rails",
"Vue.js",
"Spring"
)

```
::::: {.panelset}
::: {.panel}
### All Respondents {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics, 
                                                  skillset = web_frameworks,
                                                  number_of_resp = number_of_respondents), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Professional Developers {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics %>% 
                                                    filter(profession_1 == "I am a developer by profession"), 
                                                  skillset = web_frameworks,
                                                  number_of_resp = number_of_prof_dev), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Students {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics %>% 
                                                    filter(profession_1 == "I am a student who is learning to code"), 
                                                  skillset = web_frameworks,
                                                  number_of_resp = number_of_students), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
:::::


## Which other frameworks, libraries and tools have you done extensive development work in over the past year?

TBD. Most seems to be web frameworks? group with question above? -> It seems that Node.js is in reality more used thant Ract.js!


```{r}

other_frameworks = c(
".NET",			
".NET Core",			
"Flutter",			
"Node.js",			
"Puppet",			
"React Native",			
"Deno.js"
)

```
::::: {.panelset}
::: {.panel}
### All Respondents {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics, 
                                                  skillset = other_frameworks,
                                                  number_of_resp = number_of_respondents), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Professional Developers {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics %>% 
                                                    filter(profession_1 == "I am a developer by profession"), 
                                                  skillset = other_frameworks,
                                                  number_of_resp = number_of_prof_dev), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Students {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics %>% 
                                                    filter(profession_1 == "I am a student who is learning to code"), 
                                                  skillset = other_frameworks,
                                                  number_of_resp = number_of_students), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
:::::


## Which collaborative tools have you done extensive development work in over the past year?

_GitHub_ is by far the most popular version control tool. _Slack_ is the most used business communication platform.  

```{r}

collaborative_tools = c(
"GitHub",			
"GitLab",			
"Facebook Workplace",			
"Slack",			
"Microsoft Teams",			
"Microsoft Azure",			
"Trello",			
"Google Suite (Docs, Meet, etc)",			
"Stack Overflow for Teams",			
"Jira"
)

```
::::: {.panelset}
::: {.panel}
### All Respondents {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics, 
                                                  skillset = collaborative_tools,
                                                  number_of_resp = number_of_respondents), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Professional Developers {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics %>% 
                                                    filter(profession_1 == "I am a developer by profession"), 
                                                  skillset = collaborative_tools,
                                                  number_of_resp = number_of_prof_dev), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Students {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc_popular_skills(the_skills = skills_with_characteristics %>% 
                                                    filter(profession_1 == "I am a student who is learning to code"), 
                                                  skillset = collaborative_tools,
                                                  number_of_resp = number_of_students), 
              a_factor = tool, its_values = perc, labels = perc_label, 
              title = "")

```
:::
:::::



&nbsp;
&nbsp;  
** === add something about next year ===**
&nbsp;
&nbsp;





## What is the primary operating system in which you work?

Windows in the most used operating system. Professional developers use MacOS and Linux more often than other respondents. Students are overwhelmingly on Windows.  

::::: {.panelset}
::: {.panel}
### All Respondents {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, prim_opsyst_14), 
              a_factor = prim_opsyst_14, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Professional Developers {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a developer by profession"), prim_opsyst_14), 
              a_factor = prim_opsyst_14, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Students {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a student who is learning to code"), prim_opsyst_14), 
              a_factor = prim_opsyst_14, its_values = perc, labels = perc_label, 
              title = "")

```
:::
:::::


## In which operating system would you rather work?

MacOS, Linux and Windows are practically tied as preferred systems. Professional developers have a preference for MacOS, then Linux. Students prefer Windows.  

::::: {.panelset}
::: {.panel}
### All Respondents {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, rather_opsyst_15), 
              a_factor = rather_opsyst_15, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Professional Developers {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a developer by profession"), rather_opsyst_15), 
              a_factor = rather_opsyst_15, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Students {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a student who is learning to code"), rather_opsyst_15), 
              a_factor = rather_opsyst_15, its_values = perc, labels = perc_label, 
              title = "")

```
:::
:::::



## What level of influence do you, personally, have over new technology purchases at your organization?

Unsurprisingly, professional developers are more likely to have influence over new technology purchases.  

::::: {.panelset}
::: {.panel}
### All Respondents {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

barplot_ordered(my_df = compute_perc(Qs, purch_influence_16), 
              a_factor = purch_influence_16, its_values = perc, labels = perc_label, 
              title = "")

```
:::
::: {.panel}
### Professional Developers {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

barplot_ordered(my_df = compute_perc(Qs %>% 
                                     filter(profession_1 == "I am a developer by profession"),
                                   purch_influence_16), 
              a_factor = purch_influence_16, its_values = perc, labels = perc_label, 
              title = "")

```
:::
:::::

## Q17. When buying a new tool or software, how do you discover and research available solutions? Select all that apply.

__TBD.__

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, solution_research_17), 
              a_factor = solution_research_17, its_values = perc, labels = perc_label, 
              title = "Q17. When buying a new tool or software, how do you discover and research available solutions?")

```










# Education, Work and Career

## Q18. Which of the following best describes the highest level of formal education that you have completed?

### All Respondents

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, highest_edu_18), 
              a_factor = highest_edu_18, its_values = perc, labels = perc_label, 
              title = "")

```

### Professional Developers
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a developer by profession"), highest_edu_18), 
              a_factor = highest_edu_18, its_values = perc, labels = perc_label, 
              title = "")

```

### Students

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a student who is learning to code"), highest_edu_18), 
              a_factor = highest_edu_18, its_values = perc, labels = perc_label, 
              title = "")

```



## Q19. What was your primary field of study?

### All Respondents

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, prim_study_19), 
              a_factor = prim_study_19, its_values = perc, labels = perc_label, 
              title = "")

```

### Professional Developers
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a developer by profession"), prim_study_19), 
              a_factor = prim_study_19, its_values = perc, labels = perc_label, 
              title = "")

```

### Students

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a student who is learning to code"), prim_study_19), 
              a_factor = prim_study_19, its_values = perc, labels = perc_label, 
              title = "")

```



## Q20. How important is a formal education, such as a university degree in computer science, to your career?

### All Respondents

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, edu_importance_20), 
              a_factor = edu_importance_20, its_values = perc, labels = perc_label, 
              title = "")

```

### Professional Developers
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a developer by profession"), edu_importance_20), 
              a_factor = edu_importance_20, its_values = perc, labels = perc_label, 
              title = "")

```

### Students

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a student who is learning to code"), edu_importance_20), 
              a_factor = edu_importance_20, its_values = perc, labels = perc_label, 
              title = "")

```



## Q21. From Q18, if you could go back and change your educational path (but end up in the same career), what would you change?

```{r, fig.align='center', out.width = '100%', fig.height=3}

compute_perc(Qs, change_edu_21 )

```

## Q22. How satisfied are you with your current job? (If you work multiple jobs, answer for one you spend the most hours on.)

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, job_satisfaction_22 ), 
              a_factor = job_satisfaction_22 , its_values = perc, labels = perc_label, 
              title = "Q22. How satisfied are you with your current job?")

```

## Q23. Approximately how many people are employed by the company or organization you currently work for?

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, company_size_23 ), 
              a_factor = company_size_23 , its_values = perc, labels = perc_label, 
              title = "Q23. Approximately how many people are employed by the company or organization you currently work for?")

```

## Q24. On average, how many hours per week do you work? Please enter a whole number in the box.

```{r, fig.align='center', out.width = '100%', fig.height=3}

compute_perc(Qs, weekly_work_hours_24)

```


## Q25. How often do you work overtime or beyond the formal time expectation of your job?

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, overtime_work_25 ), 
              a_factor = overtime_work_25 , its_values = perc, labels = perc_label, 
              title = "Q25. How often do you work overtime or beyond the formal time expectation of your job?")

```

## Q26. Do you think your company has a good on-boarding process? (By on-boarding, we mean the structured process of getting you settled in to your new role at a company)

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, company_onboarding_process_26 ), 
              a_factor = company_onboarding_process_26 , its_values = perc, labels = perc_label, 
              title = "26. Do you think your company has a good on-boarding process?")

```

## Q27. How could on-boarding at your company be improved?

```{r, fig.align='center', out.width = '100%', fig.height=3}

compute_perc(Qs, improve_onboarding_27 )

```

## Q28. How much is your monthly salary in Ghana Cedis?

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, monthly_salary_28 ), 
              a_factor = monthly_salary_28 , its_values = perc, labels = perc_label, 
              title = "Q28. How much is your monthly salary in Ghana Cedis?")

```

## Q29. Which of the following best describes your current job-seeking status?

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, job_status_29 ), 
              a_factor = job_status_29 , its_values = perc, labels = perc_label, 
              title = "Q29. Which of the following best describes your current job-seeking status?")

```

## Q30. In general, what drives you to look for a new job? Select all that apply.

### All Respondents

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, drivers_for_new_jobs_30), 
              a_factor = drivers_for_new_jobs_30, its_values = perc, labels = perc_label, 
              title = "")

```

### Professional Developers
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a developer by profession"), drivers_for_new_jobs_30), 
              a_factor = drivers_for_new_jobs_30, its_values = perc, labels = perc_label, 
              title = "")

```

### Students

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(profession_1 == "I am a student who is learning to code"), drivers_for_new_jobs_30), 
              a_factor = drivers_for_new_jobs_30, its_values = perc, labels = perc_label, 
              title = "")

```



## Q31. When job searching, how do you learn more about a company? Select all that apply.

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, how_learn_about_company_31 ), 
              a_factor = how_learn_about_company_31 , its_values = perc, labels = perc_label, 
              title = "Q31. When job searching, how do you learn more about a company?")

```

## Q32. Are you a member of any other online/offline developer communities?

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs, dev_community_member_32 ), 
              a_factor = dev_community_member_32 , its_values = perc, labels = perc_label, 
              title = "Q32. Are you a member of any other online/offline developer communities?")

```

## Q33. Developer communities you are a member of

The three largest communities to which respondents indicated membership were DevCongress (13.6%), Facebook Developer Circle (9.6%), and the Hacklab Foundation (7.4%).  

```{r, fig.align='center', out.width = '100%', fig.height=5.5}
# Warning! Check that all communities are in the plot. Depends on size (height) of figure and scale. Wordcloud excludes if names are too large (typically Facebook Developer Circle or DevCongress)
# I tried to pick a scale where the smallest were still legible.

# note: respondents can be members of several communities,
# we just count them all.
counted_communities <- Qs %>% select(ID, which_dev_community_33) %>%
  separate_rows(which_dev_community_33, sep = ";") %>% 
  drop_na() %>% 
  count(which_dev_community_33) %>% 
  arrange(-n) %>%
  mutate(perc_of_resp = n/number_of_respondents*100)

wordcloud(words = counted_communities$which_dev_community_33, freq = counted_communities$n, min.freq = 1,
          max.words = 122, random.order = TRUE, rot.per = 0, scale = c(2.2,0.5),
          colors = HL_colors)

```


# Demographics  

## Gender 

### What Gender do you identify as?

There is a  greater share of women among the students than among the professional developers. 

Ghana's developer community may become more representative in the upcoming years. 

```{r}

#Removing NA

gender_data <- Qs %>%
  filter(gender_35 != "NA")
```


::::: {.panelset}

::: {.panel}

### All Respondents {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

barplot_ordered(my_df = compute_perc(gender_data, gender_35), 
              a_factor = gender_35, its_values = perc, labels = perc_label, 
              title = "")

```


:::

::: {.panel}

### Professional Developers {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}


barplot_ordered(my_df = compute_perc(gender_data %>% filter(profession_1 == "I am a developer by profession"), gender_35), 
              a_factor = gender_35, its_values = perc, labels = perc_label,
              title = "")

```

:::

::: {.panel}

### Students {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

barplot_ordered(my_df = compute_perc(gender_data %>% filter(profession_1 == "I am a student who is learning to code"), gender_35), 
              a_factor = gender_35, its_values = perc, labels = perc_label,
              title = "")

```

:::

::::


### Do you identify as transgender? 

```{r}
transgender_data <- Qs %>%
  filter(transgender_36 != "NA")
```


```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(transgender_data, transgender_36), 
              a_factor = transgender_36, its_values = perc, labels = perc_label,
              title = "")

```


## Sexual orientation

```{r}
sexual_orientation_data <- Qs %>%
    filter(sexual_orientation_37 != "NA" & sexual_orientation_37 != "Prefer not to say")

```

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(sexual_orientation_data, sexual_orientation_37), 
              a_factor = sexual_orientation_37, its_values = perc, labels = perc_label,
              title = "")

```

## Ethnicity 

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(Qs %>% filter(ethnicity_38 != "NA" & ethnicity_38 != "I prefer not to answer"), ethnicity_38), 
              a_factor = ethnicity_38, its_values = perc, labels = perc_label,
              title = "")

```

## Do you have any dependents you care for? 

```{r}
dependents_data <- Qs %>%
  filter(dependents_41 != "I prefer not to say" & dependents_41 != "NA")
```

::::: {.panelset}

::: {.panel}

### All Respondents {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(dependents_data, dependents_41), 
              a_factor = dependents_41, its_values = perc, labels = perc_label,
              title = "")

```


:::

::: {.panel}

### Only Men {.panel-name}
```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(dependents_data %>% filter(gender_35 == "Man"), dependents_41), 
              a_factor = dependents_41, its_values = perc, labels = perc_label,
              title = "")

```

:::

::: {.panel}

### Only Women {.panel-name}

```{r, fig.align='center', out.width = '100%', fig.height=3}

basic_barplot(my_df = compute_perc(dependents_data %>% filter(gender_35 == "Woman"), dependents_41), 
              a_factor = dependents_41, its_values = perc, labels = perc_label,
              title = "")

```

:::

::::





